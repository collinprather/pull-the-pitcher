---

title: Metrics

keywords: fastai
sidebar: home_sidebar

summary: "Various metrics, in addition to the traditional binary classification, and survival analysis options."
description: "Various metrics, in addition to the traditional binary classification, and survival analysis options."
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: notebooks/03_metrics.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/collinprather/anaconda3/envs/orioles/lib/python3.7/site-packages/statsmodels/tools/_testing.py:19: FutureWarning: pandas.util.testing is deprecated. Use the functions in the public API at pandas.testing instead.
  import pandas.util.testing as tm
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="cm" class="doc_header"><code>cm</code><a href="https://github.com/collinprather/pull_the_pitcher/tree/master/pull_the_pitcher/metrics.py#L14" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>cm</code>(<strong><code>y_test</code></strong>, <strong><code>y_test_pred_probs</code></strong>, <strong><code>thresh</code></strong>)</p>
</blockquote>
<p>confusion matrix</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_starts_from_labels" class="doc_header"><code>get_starts_from_labels</code><a href="https://github.com/collinprather/pull_the_pitcher/tree/master/pull_the_pitcher/metrics.py#L30" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_starts_from_labels</code>(<strong><code>y_true</code></strong>, <strong><code>y_pred</code></strong>)</p>
</blockquote>
<p>where y_true and y_pred are both np arrays
returns two lists of np arrays</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="mean_pa_diff" class="doc_header"><code>mean_pa_diff</code><a href="https://github.com/collinprather/pull_the_pitcher/tree/master/pull_the_pitcher/metrics.py#L52" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>mean_pa_diff</code>(<strong><code>trues</code></strong>, <strong><code>preds</code></strong>)</p>
</blockquote>
<p>where trues and preds are both lists of numpy arrays
What this doesn't take into account is if the model
has many high prob predictions (not necessarily max)
that are way off</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="mean_target_diff" class="doc_header"><code>mean_target_diff</code><a href="https://github.com/collinprather/pull_the_pitcher/tree/master/pull_the_pitcher/metrics.py#L68" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>mean_target_diff</code>(<strong><code>trues</code></strong>, <strong><code>preds</code></strong>)</p>
</blockquote>
<p>What this doesn't take into account is how far
away the max pred is from the actual pulling</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="preds_histogram" class="doc_header"><code>preds_histogram</code><a href="https://github.com/collinprather/pull_the_pitcher/tree/master/pull_the_pitcher/metrics.py#L79" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>preds_histogram</code>(<strong><code>y_true</code></strong>, <strong><code>y_pred</code></strong>, <strong><code>ax</code></strong>, <strong><code>title</code></strong>=<em><code>'2018 train predictions'</code></em>, <strong><code>ylim</code></strong>=<em><code>(0, 2200)</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="print_all_metrics" class="doc_header"><code>print_all_metrics</code><a href="https://github.com/collinprather/pull_the_pitcher/tree/master/pull_the_pitcher/metrics.py#L92" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>print_all_metrics</code>(<strong><code>y_test</code></strong>, <strong><code>y_test_pred_probs</code></strong>, <strong><code>thresh</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

